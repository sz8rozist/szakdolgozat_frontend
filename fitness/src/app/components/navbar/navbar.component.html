<!-- ======= Header ======= -->
<header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <div class="logo d-flex align-items-center">
        <img src="assets/img/logo-removebg-preview.png" alt="">
      </div>
      <i *ngIf="authService.isLoggedIn$ | async" (click)="toggleSideBar()" class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

  
    <nav *ngIf="authService.isLoggedIn$ | async" class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
  
        <li class="nav-item dropdown">
  
          <span class="nav-link nav-icon" style="cursor: pointer;" (click)="openNotificationOffCanvas()" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary badge-number">{{notifications.length}}</span>
          </span><!-- End Notification Icon -->
          <app-offcanvas #canvasRef>
            <div canvasHeader>
              <!-- Modal header content -->
              <h4 class="offcanvas-title" id="offcanvas-basic-title">{{"ertesites"|translate}}</h4>
            </div>
            <div canvasBody>
              <!-- Modal body content -->
              <div class="text-center" *ngIf="notifications.length == 0">{{"nincs_uj_ertesites" | translate}}</div>
              <ul class="notifications">
                <li class="notification-item" *ngFor="let n of notifications">
                  <i class="bi bi-info-circle text-primary"></i>
                  <div>
                    <p>{{n.message}}</p>
                    <p>{{n.date}}</p>
                  </div>
                </li>
                <li class="text-center">
                  <a href="#" (click)="closeNotificationOffCanvas()" routerLink="/notification"><span id="show_all_notification_href" class="badge rounded-pill bg-primary p-3 ms-2 mt-3">{{'mutasd_mindet' |translate}}</span></a>
                </li>

              </ul>
            </div>
          </app-offcanvas>
        </li><!-- End Notification Nav -->  
        <li class="nav-item dropdown pe-3" (click)="toggleProfileDropdownFunc()">
  
          <span class="nav-link nav-profile d-flex align-items-center pe-0" style="cursor: pointer;" data-bs-toggle="dropdown">
            <img
              *ngIf="profileImageSrc; else defaultImage"
              [src]="profileImageSrc"
              alt="Profile"
              class="rounded-circle"
            />

            <ng-template #defaultImage>
              <img
                src="assets/img/no-profile-picture.webp"
                alt="Default Profile"
                class="rounded-circle"
              />
            </ng-template>
            <span class="d-none d-md-block dropdown-toggle ps-2">{{auth?.username}}</span>
          </span><!-- End Profile Iamge Icon -->
  
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile" [ngClass]="{'show': toggleProfileDropdown}" [ngStyle]="{'position': toggleProfileDropdown ? 'absolute' : '', 'inset': toggleProfileDropdown ? '0px 0px auto auto' : '', 'margin': toggleProfileDropdown? '0px' : '', 'transform': toggleProfileDropdown ? 'translate(-25px, 35px)' : ''}">
            <li class="dropdown-header">
              
              <h6>{{ auth?.guest == null ? (auth?.trainer?.first_name + ' ' + auth?.trainer?.last_name) : (auth?.guest?.first_name + ' ' + auth?.guest?.last_name) }}</h6>              <span>{{auth?.guest == null ? "Edző" : "Vendég"}}</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
  
            <li>
              <a class="dropdown-item d-flex align-items-center" routerLink="profile">
                <i class="bi bi-person"></i>
                <span>{{'fiokom' | translate}}</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
  
            <li>
              <a class="dropdown-item d-flex align-items-center" href="#" (click)="onLogout()">
                <i class="bi bi-box-arrow-right"></i>
                <span>{{'kijelentkezes' | translate}}</span>
              </a>
            </li>
  
          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->
  
      </ul>
    </nav><!-- End Icons Navigation -->
  
  </header><!-- End Header -->